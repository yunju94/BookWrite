<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout1}">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script th:inline="javascript">

        function Novel(id){
            location.href="/writeNovel/"+id
        }


            function searchBtn(){
                var search=$('#search').val();
                var category=$('#category').val();
                 console.log(search)
                 console.log(category)

                 location.href= "/novel/"+category+"/"+search;
            }





    </script>

    <style>
        .books{
            max-width:1800px;
        }

       .bookTable{
             margin:10px;
            float: left;
           border: 1px solid #ccc;
           text-align: center;
       }
    </style>

</head>

<body>
<div layout:fragment="content">
    <div>
        <h3  th:if="${writeInfoDto.category == T(com.book.write.constant.Category).Fantasy}">판타지</h3>
        <h3  th:if="${writeInfoDto.category == T(com.book.write.constant.Category).RomanceFantasy}">로맨스판타지</h3>
        <h3  th:if="${writeInfoDto.category == T(com.book.write.constant.Category).Romance}">로맨스</h3>
        <h3  th:if="${writeInfoDto.category == T(com.book.write.constant.Category).etc}">자유</h3>
        <input type="hidden" id="category" th:value="${writeInfoDto.category}" />
    </div>
    <div>
        <input type="text" id="search" th:field=*{writeInfoDto.search} placeholder="검색" class="search">
        <button type="button" onclick="searchBtn()">검색</button>
    </div>
    <div>
        <div class="books">
            <div th:each="book : ${items}" >
                <a th:href="'/writeNovel/' + ${book.id}">
                <div class="bookTable" >
                    <div th:unless="${book.writeImg.imgUrl == null or #strings.isEmpty(book.writeImg.imgUrl)}">
                        <img th:src="${book.writeImg.imgUrl}"  width="150px" height="155px">
                    </div>

                    <p th:text="${book.title}"></p>
                    <p th:text="${book.member.Nickname}"></p>
                    <div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-balloon-heart-fill" viewBox="0 0 16 16">
                            <path fill-rule="evenodd" d="M8.49 10.92C19.412 3.382 11.28-2.387 8 .986 4.719-2.387-3.413 3.382 7.51 10.92l-.234.468a.25.25 0 1 0 .448.224l.04-.08c.009.17.024.315.051.45.068.344.208.622.448 1.102l.013.028c.212.422.182.85.05 1.246-.135.402-.366.751-.534 1.003a.25.25 0 0 0 .416.278l.004-.007c.166-.248.431-.646.588-1.115.16-.479.212-1.051-.076-1.629-.258-.515-.365-.732-.419-1.004a2 2 0 0 1-.037-.289l.008.017a.25.25 0 1 0 .448-.224l-.235-.468ZM6.726 1.269c-1.167-.61-2.8-.142-3.454 1.135-.237.463-.36 1.08-.202 1.85.055.27.467.197.527-.071.285-1.256 1.177-2.462 2.989-2.528.234-.008.348-.278.14-.386"/>
                        </svg>
                        <a th:text="${book.totalHeart}"></a>
                    </div>


                </div>
                </a>
            </div>
        </div>
    </div>



</div>
</body>


</html>